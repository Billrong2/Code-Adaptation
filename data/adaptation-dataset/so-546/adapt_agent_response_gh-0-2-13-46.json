{
  "code": "public static final <T> List<List<T>> split(final List<T> original, final int maxListSize, final Class<? extends List> listImplementation)\n{\n\tif (original == null)\n\t{\n\t\tthrow new NullPointerException(\"original must not be null\");\n\t}\n\tif (listImplementation == null)\n\t{\n\t\tthrow new NullPointerException(\"listImplementation must not be null\");\n\t}\n\tif (maxListSize <= 0)\n\t{\n\t\tthrow new IllegalArgumentException(\"maxListSize must be greater than zero\");\n\t}\n\n\t@SuppressWarnings(\"unchecked\")\n\tfinal T[] elements = (T[]) original.toArray();\n\tfinal int maxChunks = (int) Math.ceil(elements.length / (double) maxListSize);\n\n\tfinal List<List<T>> lists = new ArrayList<List<T>>(maxChunks);\n\tfor (int i = 0; i < maxChunks; i++)\n\t{\n\t\tfinal int from = i * maxListSize;\n\t\tfinal int to = Math.min(from + maxListSize, elements.length);\n\t\tfinal T[] range = Arrays.copyOfRange(elements, from, to);\n\n\t\tlists.add(createSublist(range, listImplementation));\n\t}\n\n\treturn lists;\n}",
  "explanation": "code_hardening: Added explicit null checks for original and listImplementation to fail fast with clear messages, and retained final locals. The unchecked array cast is preserved but explicitly documented with a suppression to make the risk clear while keeping behavior unchanged.\nresolve_compilation_errors: Preserved the existing createSublist(T[], Class<? extends List>) call and signature as defined in the codebase; no new types or APIs were introduced. Generic bounds remain compatible with the existing method.\nexception_handling: Ensured that IllegalArgumentException and NullPointerException are thrown explicitly and align with the documented behavior; no try/catch blocks were added since none are required here.\nlogic_customization: None; the splitting logic, chunk calculation, iteration, and delegation to createSublist are identical to the original behavior.\nrefactoring: Applied consistent formatting, indentation, and brace style to match the project; local variable naming and control flow were kept intact to avoid semantic changes.\nmisc: Added a suppression annotation for the unchecked cast to document intent and reduce warnings; no new custom API calls were introduced (none)."
}