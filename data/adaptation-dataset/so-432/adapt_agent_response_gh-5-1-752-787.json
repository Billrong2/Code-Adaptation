{
  "code": "/**\n     * Convert a millisecond duration to a human-readable string.\n     * Output format uses lowercase units with correct singular/plural forms\n     * and comma-separated segments (no trailing comma).\n     *\n     * Source: adapted from a Stack Overflow community answer.\n     *\n     * @param millis A duration to convert to a string form\n     * @return A string such as \"1 day, 2 hours, 3 minutes, 4 seconds\"\n     */\n    public static String getDurationBreakdown(long millis) {\n        if (millis < 0) {\n            throw new IllegalArgumentException(\"Duration must be greater than zero!\");\n        }\n\n        final long days = java.util.concurrent.TimeUnit.MILLISECONDS.toDays(millis);\n        millis -= java.util.concurrent.TimeUnit.DAYS.toMillis(days);\n        final long hours = java.util.concurrent.TimeUnit.MILLISECONDS.toHours(millis);\n        millis -= java.util.concurrent.TimeUnit.HOURS.toMillis(hours);\n        final long minutes = java.util.concurrent.TimeUnit.MILLISECONDS.toMinutes(millis);\n        millis -= java.util.concurrent.TimeUnit.MINUTES.toMillis(minutes);\n        final long seconds = java.util.concurrent.TimeUnit.MILLISECONDS.toSeconds(millis);\n\n        StringBuilder sb = new StringBuilder(64);\n\n        // days\n        sb.append(days).append(' ').append(days == 1 ? \"day\" : \"days\");\n        if (hours > 0 || minutes > 0 || seconds > 0) sb.append(\", \");\n\n        // hours\n        sb.append(hours).append(' ').append(hours == 1 ? \"hour\" : \"hours\");\n        if (minutes > 0 || seconds > 0) sb.append(\", \");\n\n        // minutes\n        sb.append(minutes).append(' ').append(minutes == 1 ? \"minute\" : \"minutes\");\n        if (seconds > 0) sb.append(\", \");\n\n        // seconds (no trailing comma)\n        sb.append(seconds).append(' ').append(seconds == 1 ? \"second\" : \"seconds\");\n\n        return sb.toString();\n    }",
  "explanation": "code_hardening: Preserved the existing negative-duration check and marked the time unit locals (days, hours, minutes, seconds) as final for clarity without changing behavior.\nresolve_compilation_errors: Used fully qualified references to java.util.concurrent.TimeUnit inside the function to avoid any ambiguity; no other compilation issues required changes.\nexception_handling: Retained the original IllegalArgumentException behavior exactly as before; no new exception handling was introduced.\nlogic_customization: Reworked string construction to use lowercase unit names, correct singular/plural forms per value, and comma-plus-space separators after day, hour, and minute segments only when subsequent units exist, ensuring no trailing comma after seconds while keeping the same TimeUnit-based breakdown logic.\nrefactoring: Replaced the fixed-label append sequence with structured conditional appends to reduce duplication and improve readability while keeping everything within the same method.\nmisc: Updated the method Javadoc to reflect the new output format and added a brief Stack Overflow source attribution line; no new custom API calls were introduced."
}