{
  "code": "  /**\n   * Get the value for the given key, returned as a boolean.\n   * If the key does not exist or an error occurs, the provided default is returned.\n   *\n   * @param classLoader the ClassLoader to use for reflection\n   * @param key the system property key to lookup\n   * @param def the default value to return\n   * @return the key parsed as a boolean, or def on failure\n   * @throws IllegalArgumentException if the key exceeds 32 characters\n   */\n  public static Boolean getBoolean(final ClassLoader classLoader, final String key, final boolean def)\n      throws IllegalArgumentException {\n    // Early validation\n    if (key == null || key.length() == 0) {\n      return def;\n    }\n    if (classLoader == null) {\n      android.util.Log.e(TAG, \"ClassLoader is null when accessing system property. key=\" + key + \", def=\" + def);\n      return def;\n    }\n\n    try {\n      final Class<?> systemPropertiesClass = classLoader.loadClass(\"android.os.SystemProperties\");\n      final java.lang.reflect.Method methodGetBoolean = systemPropertiesClass.getMethod(\n          \"getBoolean\", new Class<?>[] { String.class, boolean.class });\n\n      final Object result = methodGetBoolean.invoke(systemPropertiesClass, key, def);\n      if (result instanceof Boolean) {\n        return (Boolean) result;\n      }\n\n      // Unexpected return type; fall back to default\n      android.util.Log.e(TAG, \"Unexpected return type from SystemProperties.getBoolean. key=\" + key + \", def=\" + def);\n      return def;\n\n    } catch (IllegalArgumentException iAE) {\n      // Preserve passthrough behavior\n      throw iAE;\n    } catch (ClassNotFoundException e) {\n      android.util.Log.e(TAG, \"SystemProperties class not found. key=\" + key + \", def=\" + def, e);\n    } catch (NoSuchMethodException e) {\n      android.util.Log.e(TAG, \"SystemProperties.getBoolean method not found. key=\" + key + \", def=\" + def, e);\n    } catch (IllegalAccessException e) {\n      android.util.Log.e(TAG, \"Illegal access invoking SystemProperties.getBoolean. key=\" + key + \", def=\" + def, e);\n    } catch (java.lang.reflect.InvocationTargetException e) {\n      android.util.Log.e(TAG, \"InvocationTargetException invoking SystemProperties.getBoolean. key=\" + key + \", def=\" + def, e);\n    } catch (Exception e) {\n      android.util.Log.e(TAG, \"Unexpected exception accessing SystemProperties.getBoolean. key=\" + key + \", def=\" + def, e);\n    }\n\n    return def;\n  }",
  "explanation": "code_hardening: Added early validation for null/empty key and null ClassLoader, ensured the default boolean is returned on all non-fatal failures, used final modifiers for parameters and locals, and added TAG-based error logging with contextual details (key and default).\nresolve_compilation_errors: Updated the signature to accept ClassLoader and a boolean default, return Boolean, removed Context usage, and adjusted reflection to the getBoolean(String, boolean) method with correct parameter types using fully qualified names where needed.\nexception_handling: Preserved passthrough of IllegalArgumentException, explicitly caught and logged ClassNotFoundException, NoSuchMethodException, IllegalAccessException, InvocationTargetException, and a generic Exception, and ensured the default value is returned in all handled cases.\nlogic_customization: Changed the reflected API call from SystemProperties.get(String) to SystemProperties.getBoolean(String, boolean) and invoked it with the provided key and default, replacing empty-string fallback semantics with boolean default behavior.\nrefactoring: Renamed variables for clarity (systemPropertiesClass, methodGetBoolean), removed unnecessary object creation, and simplified invocation logic while keeping all changes within this single function.\nmisc: Updated Javadoc to reflect new parameters, return type, and behavior; added concise logging consistent with existing TAG usage. New custom API calls used: android.os.SystemProperties.getBoolean(String, boolean) via reflection; android.util.Log.e(String, String, Throwable) for error logging."
}