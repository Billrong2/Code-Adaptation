{
  "code": "public static String capitalizeEveryWord(final String source, java.util.List<Delimiter> delimiters, final java.util.Locale locale) {\n        if (source == null) {\n            return null;\n        }\n\n        char[] chars;\n\n        if (delimiters == null || delimiters.isEmpty()) {\n            delimiters = getDefaultDelimiters();\n        }\n\n        // If Locale specified, i18n toLowerCase is executed, to handle specific behaviors (eg. Turkish dotted and dotless 'i')\n        if (locale != null) {\n            chars = source.toLowerCase(locale).toCharArray();\n        } else {\n            chars = source.toLowerCase().toCharArray();\n        }\n\n        // First character ALWAYS capitalized, if it is a Letter.\n        if (chars.length > 0 && Character.isLetter(chars[0]) && !isSurrogate(chars[0])) {\n            chars[0] = Character.toUpperCase(chars[0]);\n        }\n\n        for (int i = 0; i < chars.length; i++) {\n            if (!isSurrogate(chars[i]) && !Character.isLetter(chars[i])) {\n                // Current char is not a Letter; check if it is a delimiter.\n                for (Delimiter delimiter : delimiters) {\n                    if (delimiter == null) {\n                        continue;\n                    }\n                    if (delimiter.getDelimiter() == chars[i]) {\n                        // Delimiter found, applying rules...\n                        if (delimiter.capitalizeBefore() && i > 0\n                                && Character.isLetter(chars[i - 1]) && !isSurrogate(chars[i - 1])) {\n                            // previous character is a Letter and must be capitalized\n                            chars[i - 1] = Character.toUpperCase(chars[i - 1]);\n                        }\n                        if (delimiter.capitalizeAfter() && i < chars.length - 1\n                                && Character.isLetter(chars[i + 1]) && !isSurrogate(chars[i + 1])) {\n                            // next character is a Letter and must be capitalized\n                            chars[i + 1] = Character.toUpperCase(chars[i + 1]);\n                        }\n                        break;\n                    }\n                }\n            }\n        }\n        return String.valueOf(chars);\n    }",
  "explanation": "code_hardening: Added a null-check for the source parameter to avoid NullPointerException, marked parameters as final where applicable, and skipped null entries in the delimiters list before use.\nresolve_compilation_errors: Matched the existing project method signature and relied on already-defined helpers (isSurrogate, getDefaultDelimiters, Delimiter) and standard types; no new APIs were introduced.\nexception_handling: none.\nlogic_customization: none; capitalization rules, delimiter handling, and locale-specific behavior are preserved exactly as in the original logic.\nrefactoring: Minor local consistency adjustments (final parameters, small comment wording) without changing semantics.\nmisc: Minor formatting and comment consistency adjustments only; no additional logging or behavior changes."
}