
package au.gov.ga.earthsci.ant;

import java.io.File;
import java.io.IOException;
import java.util.HashMap;
import java.util.Map;
import java.util.regex.Pattern;


public class Util
{
	private static Map<String, String> osMap = new HashMap<String, String>();
	private static Map<String, String> archMap = new HashMap<String, String>();

	static
	{
		osMap.put("win32", "Windows");
		osMap.put("macosx", "Mac OS X");
		osMap.put("linux", "Linux");
	}

	public static String getJnlpOs(String os)
	{
		if (osMap.containsKey(os))
		{
			return osMap.get(os);
		}
		return os;
	}

	public static String getJnlpArch(String arch)
	{
		if (archMap.containsKey(arch))
		{
			return archMap.get(arch);
		}
		return arch;
	}

		// TODO


	
	public static int compareVersionStrings(String version1, String version2)
	{
		String[] split1 = version1.split("\\.");
		String[] split2 = version2.split("\\.");
		int min = Math.min(split1.length, split2.length);
		for (int i = 0; i < min; i++)
		{
			int c = compareIntString(split1[i], split2[i]);
			if (c != 0)
			{
				return c;
			}
		}
		return compareInts(split1.length, split2.length);
	}

	private static int compareIntString(String s1, String s2)
	{
		if (s1.equals(s2))
		{
			return 0;
		}
		try
		{
			int i1 = Integer.parseInt(s1);
			int i2 = Integer.parseInt(s2);
			return compareInts(i1, i2);
		}
		catch (Exception e)
		{
			
			return s1.compareToIgnoreCase(s2);
		}
	}

	private static int compareInts(int i1, int i2)
	{
		return i1 - i2;
	}
	
	public static boolean isEmpty(String s)
	{
		return s == null || s.length() == 0;
	}
}
