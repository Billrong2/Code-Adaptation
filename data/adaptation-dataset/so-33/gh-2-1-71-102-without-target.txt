



package com.fabbychat.utils;

import java.io.IOException;
import java.io.InputStream;
import java.net.MalformedURLException;
import java.net.UnknownHostException;
import java.util.HashMap;
import java.util.Map;

import org.apache.http.HttpResponse;
import org.apache.http.client.methods.HttpGet;
import org.apache.http.impl.client.DefaultHttpClient;

import android.graphics.drawable.Drawable;
import android.os.Handler;
import android.os.Message;
import android.util.Log;
import android.widget.ImageView;

public class DrawableManager {

	private final static String TAG = URLDrawableProducer.class.getName();
    private final Map<String, Drawable> drawableMap;

    private static DrawableManager instance;
    
    public static DrawableManager getInstance() {
    	if (instance == null) {
    		instance = new DrawableManager();
    	}
    	return instance;
    }
    
    private DrawableManager() {
    	drawableMap = new HashMap<String, Drawable>();
    }

    public Drawable fetchDrawable(DrawableProducer dp) {
    	String key = dp.getKey();
    	if (drawableMap.containsKey(key)) {
    		return drawableMap.get(key);
    	}
    	
    	Drawable d = dp.getDrawable();
    	drawableMap.put(key, d);

    	return d;
    }

    // TODO

}
