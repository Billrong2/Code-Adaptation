{
  "code": "    // Source: StackOverflow â€“ adapted from an answer demonstrating pixel extraction without using BufferedImage.getRGB\n    private static int[][] getPixels(BufferedImage image) {\n\n        final byte[] pixels = ((DataBufferByte) image.getRaster().getDataBuffer()).getData();\n        final int width = image.getWidth();\n        final int height = image.getHeight();\n        final boolean hasAlphaChannel = image.getAlphaRaster() != null;\n\n        int[][] result = new int[height][width];\n        if (hasAlphaChannel) {\n            final int pixelLength = 4;\n            for (int pixel = 0, row = 0, col = 0; pixel < pixels.length; pixel += pixelLength) {\n                int argb = 0;\n                argb += (((int) pixels[pixel] & 0xff) << 24); // alpha\n                argb += ((int) pixels[pixel + 1] & 0xff);    // blue\n                argb += (((int) pixels[pixel + 2] & 0xff) << 8);  // green\n                argb += (((int) pixels[pixel + 3] & 0xff) << 16); // red\n                result[row][col] = argb;\n                col++;\n                if (col == width) {\n                    col = 0;\n                    row++;\n                }\n            }\n        } else {\n            final int pixelLength = 3;\n            for (int pixel = 0, row = 0, col = 0; pixel < pixels.length; pixel += pixelLength) {\n                int argb = 0;\n                argb += -16777216; // 255 alpha\n                argb += ((int) pixels[pixel] & 0xff);           // blue\n                argb += (((int) pixels[pixel + 1] & 0xff) << 8);  // green\n                argb += (((int) pixels[pixel + 2] & 0xff) << 16); // red\n                result[row][col] = argb;\n                col++;\n                if (col == width) {\n                    col = 0;\n                    row++;\n                }\n            }\n        }\n\n        return result;\n    }",
  "explanation": "code_hardening: none\nresolve_compilation_errors: none\nexception_handling: none\nlogic_customization: none; the pixel extraction logic and ARGB assembly are preserved exactly as in the original StackOverflow snippet.\nrefactoring: Renamed the method from convertTo2DWithoutUsingGetRGB to getPixels while keeping the same signature (private static int[][]) and identical behavior; applied minor cosmetic formatting for consistency.\nmisc: Added a reference comment above the method definition citing the StackOverflow source; no new custom API calls were introduced."
}