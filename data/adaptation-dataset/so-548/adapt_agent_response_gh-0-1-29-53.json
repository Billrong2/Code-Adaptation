{
  "code": "    @Override\n    public boolean onTouchEvent(TextView textView, Spannable spannable, MotionEvent event) {\n        if (event.getAction() == MotionEvent.ACTION_DOWN) {\n            mCustomClickableSpan = getPressedSpan(textView, spannable, event);\n            if (mCustomClickableSpan != null) {\n                mCustomClickableSpan.setPressed(true);\n                Selection.setSelection(spannable,\n                        spannable.getSpanStart(mCustomClickableSpan),\n                        spannable.getSpanEnd(mCustomClickableSpan));\n            }\n        } else if (event.getAction() == MotionEvent.ACTION_MOVE) {\n            CustomClickableSpan touchedSpan = getPressedSpan(textView, spannable, event);\n            if (mCustomClickableSpan != null && touchedSpan != mCustomClickableSpan) {\n                mCustomClickableSpan.setPressed(false);\n                mCustomClickableSpan = null;\n                Selection.removeSelection(spannable);\n            }\n        } else {\n            if (mCustomClickableSpan != null) {\n                mCustomClickableSpan.setPressed(false);\n                super.onTouchEvent(textView, spannable, event);\n            }\n            mCustomClickableSpan = null;\n            Selection.removeSelection(spannable);\n        }\n        return true;\n    }",
  "explanation": "code_hardening: none.\nresolve_compilation_errors: Replaced all usages of TouchableSpan with cn.iwgang.simplifyspan.customspan.CustomClickableSpan and aligned the method signature with LinkMovementMethod.onTouchEvent(TextView, Spannable, MotionEvent). Ensured the implementation uses the existing field mCustomClickableSpan and the local CustomClickableSpan type so there are no type mismatches.\nexception_handling: none.\nlogic_customization: Updated the touch handling flow to operate on CustomClickableSpan instances returned by getPressedSpan while preserving the original ACTION_DOWN, ACTION_MOVE, and default branch logic, including selection updates and the call to super.onTouchEvent.\nrefactoring: Renamed the tracked pressed span variable from mPressedSpan to mCustomClickableSpan and updated all corresponding references and local variables for consistency with the custom span type.\nmisc: none."
}