{
  "code": "    // borrowed from lai-xin-chu: http://stackoverflow.com/questions/12576119\n    private String getText(final Node node) {\n        if (node == null) {\n            return \"\";\n        }\n        final NodeList children = node.getChildNodes();\n        if (children == null) {\n            return \"\";\n        }\n        final StringBuffer sb = new StringBuffer();\n        for (int i = 0; i < children.getLength(); i++) {\n            final Node child = children.item(i);\n            if (child == null) {\n                continue;\n            }\n            switch (child.getNodeType()) {\n                case Node.ELEMENT_NODE:\n                    sb.append(getText(child));\n                    sb.append(\" \");\n                    break;\n                case Node.TEXT_NODE:\n                    sb.append(((Text) child).getData());\n                    break;\n                default:\n                    break;\n            }\n        }\n        return sb.toString();\n    }",
  "explanation": "code_hardening: Added null checks for the input Node, its NodeList, and individual child nodes to avoid potential NullPointerException; marked local variables as final for immutability.\nresolve_compilation_errors: none.\nexception_handling: none.\nlogic_customization: none; the DOM traversal and text extraction behavior is preserved exactly.\nrefactoring: Changed method visibility from protected to private to restrict access within the class; minor local variable finalization without altering logic.\nmisc: Added an attribution comment referencing the original Stack Overflow source and kept formatting consistent with the surrounding code; no new custom API calls used (none)."
}