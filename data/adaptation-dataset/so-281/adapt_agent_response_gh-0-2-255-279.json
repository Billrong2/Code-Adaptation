{
  "code": "/**\n     * Delete a registry value from the specified key.\n     * <p>\n     * This method deletes an existing value under the given registry key using pure Java access\n     * to the Windows Registry. The registry root is selected internally based on {@code hkey}:\n     * {@link #HKEY_LOCAL_MACHINE} uses the system registry root, and\n     * {@link #HKEY_CURRENT_USER} uses the user registry root.\n     * </p>\n     * <p>\n     * The {@code wow64} parameter controls which registry view is accessed when running on\n     * 32-bit/64-bit Windows (for example {@link #KEY_WOW64_32KEY} or {@link #KEY_WOW64_64KEY}).\n     * Pass {@code 0} for the default view.\n     * </p>\n     *\n     * @param hkey\n     *            HKEY_CURRENT_USER or HKEY_LOCAL_MACHINE\n     * @param key\n     *            registry key path\n     * @param valueName\n     *            name of the value to delete\n     * @param wow64\n     *            0 for default registry view, or KEY_WOW64_32KEY / KEY_WOW64_64KEY to force a view\n     * @throws IllegalArgumentException\n     *             if parameters are invalid or the delete operation fails\n     * @throws IllegalAccessException\n     * @throws InvocationTargetException\n     */\n    public static void deleteRegistryValue(int hkey, String key, String valueName, int wow64)\n            throws IllegalArgumentException, IllegalAccessException, InvocationTargetException {\n        if (key == null || key.length() == 0) {\n            throw new IllegalArgumentException(\"key must not be null or empty\");\n        }\n        if (valueName == null || valueName.length() == 0) {\n            throw new IllegalArgumentException(\"valueName must not be null or empty\");\n        }\n        if (wow64 != 0 && wow64 != KEY_WOW64_32KEY && wow64 != KEY_WOW64_64KEY) {\n            throw new IllegalArgumentException(\"unsupported wow64 flag=\" + wow64);\n        }\n\n        int rc;\n        if (hkey == HKEY_LOCAL_MACHINE) {\n            rc = deleteValue(systemRoot, hkey, key, valueName, wow64);\n        } else if (hkey == HKEY_CURRENT_USER) {\n            rc = deleteValue(userRoot, hkey, key, valueName, wow64);\n        } else {\n            throw new IllegalArgumentException(HKEY_EQUALS + hkey);\n        }\n\n        if (rc != REG_SUCCESS) {\n            throw new IllegalArgumentException(\"rc=\" + rc + \"  key=\" + key + \"  value=\" + valueName);\n        }\n    }",
  "explanation": "code_hardening: Added null/empty validation for key and valueName, validated supported wow64 flags, and ensured registry root selection is strictly based on supported hkey constants with a clear failure path.\nresolve_compilation_errors: Removed any Preferences root parameter by selecting systemRoot/userRoot internally, and delegated deletion to the existing private deleteValue(Preferences,int,String,String,int) overload that returns a status code. All referenced constants and methods are already in scope.\nexception_handling: Changed semantics to void with exception-based signaling; the method throws IllegalArgumentException when parameters are invalid or when the delete operation does not return REG_SUCCESS, while preserving IllegalAccessException and InvocationTargetException from reflective calls.\nlogic_customization: Replaced read/query logic with delete semantics by invoking deleteValue and comparing its return code against REG_SUCCESS. The wow64 flag is passed through unchanged to control the registry view.\nrefactoring: Introduced a new public API named deleteRegistryValue to clearly express delete behavior and simplified parameters to only those required for deletion.\nmisc: Added clear JavaDoc documenting purpose, parameters, thrown exceptions, and wow64 behavior. New custom API calls used: none (relies on existing deleteValue helper)."}