{
  "code": "static final void addListenerDeeply(final javafx.scene.Node node, final javafx.event.EventHandler<javafx.scene.input.MouseEvent> handler) {\n\t// Null-safety: nothing to do if inputs are missing\n\tif (node == null || handler == null) {\n\t\treturn;\n\t}\n\n\t// Guard against detached nodes where event registration may be unsafe\n\tif (node.getScene() == null) {\n\t\treturn;\n\t}\n\n\t// Register only the required mouse events on this node\n\tnode.addEventHandler(javafx.scene.input.MouseEvent.MOUSE_MOVED, handler);\n\tnode.addEventHandler(javafx.scene.input.MouseEvent.MOUSE_PRESSED, handler);\n\tnode.addEventHandler(javafx.scene.input.MouseEvent.MOUSE_DRAGGED, handler);\n\n\t// Recurse into children if this node is a Parent\n\tif (node instanceof javafx.scene.Parent) {\n\t\tfinal javafx.scene.Parent parent = (javafx.scene.Parent) node;\n\t\tfinal javafx.collections.ObservableList<javafx.scene.Node> children = parent.getChildrenUnmodifiable();\n\t\tfor (final javafx.scene.Node child : children) {\n\t\t\tResizeAndMoveHelper.addListenerDeeply(child, handler);\n\t\t}\n\t}\n}",
  "explanation": "code_hardening: Added null checks for both the Node and EventHandler parameters and a guard for nodes without an attached Scene to avoid unsafe event registration; declared the method static final to discourage misuse.\nresolve_compilation_errors: Removed all Stage and Scene dependencies from the logic; implemented the previously missing addListenerDeeply method fully and used fully qualified JavaFX class names to avoid import-related compilation issues.\nexception_handling: none.\nlogic_customization: Changed the API to be node-centric (Node, EventHandler<MouseEvent>), registered only MOUSE_MOVED, MOUSE_PRESSED, and MOUSE_DRAGGED events, and implemented recursive traversal over Parent.getChildrenUnmodifiable() to apply deep listening.\nrefactoring: Centralized the recursive event-registration logic into this single helper method within ResizeAndMoveHelper, eliminating duplicated logic and stage-centric assumptions.\nmisc: Updated inline comments to reflect the new node-based deep-listening behavior and dropped mouse events; no new custom API calls were introduced (none)."
}