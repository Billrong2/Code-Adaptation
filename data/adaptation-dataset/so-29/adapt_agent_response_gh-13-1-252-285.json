{
  "code": "public boolean onTouch(View v, MotionEvent event) {\n    boolean ret = false;\n\n    CharSequence text = ((TextView) v).getText();\n    Spannable stext = Spannable.Factory.getInstance().newSpannable(text);\n    TextView widget = (TextView) v;\n    int action = event.getAction();\n\n    if (action == MotionEvent.ACTION_UP || action == MotionEvent.ACTION_DOWN) {\n        int x = (int) event.getX();\n        int y = (int) event.getY();\n\n        x -= widget.getTotalPaddingLeft();\n        y -= widget.getTotalPaddingTop();\n\n        x += widget.getScrollX();\n        y += widget.getScrollY();\n\n        Layout layout = widget.getLayout();\n        int line = layout.getLineForVertical(y);\n        int off = layout.getOffsetForHorizontal(line, x);\n\n        ClickableSpan[] link = stext.getSpans(off, off, ClickableSpan.class);\n\n        if (link.length != 0) {\n            if (action == MotionEvent.ACTION_UP) {\n                link[0].onClick(widget);\n            }\n            ret = true;\n        }\n    }\n\n    return ret;\n}",
  "explanation": "code_hardening: none\nresolve_compilation_errors: none\nexception_handling: none\nlogic_customization: none\nrefactoring: none\nmisc: Applied consistent indentation, brace placement, and whitespace to match typical project style without changing control flow or behavior."
}