{
  "code": "public static Bitmap drawableToBitmap(Drawable drawable) {\n    if (drawable == null) return null;\n\n    if (drawable instanceof BitmapDrawable) {\n        return ((BitmapDrawable) drawable).getBitmap();\n    }\n\n    final int width = drawable.getIntrinsicWidth();\n    final int height = drawable.getIntrinsicHeight();\n\n    if (width <= 0 || height <= 0) return null;\n\n    Bitmap bitmap = Bitmap.createBitmap(width, height, Bitmap.Config.ARGB_8888);\n    Canvas canvas = new Canvas(bitmap);\n    drawable.setBounds(0, 0, width, height);\n    drawable.draw(canvas);\n    return bitmap;\n}",
  "explanation": "code_hardening: Added a null check for the drawable parameter and return null early to avoid NullPointerException; allowed null returns when intrinsic dimensions are non-positive.\nresolve_compilation_errors: none.\nexception_handling: none.\nlogic_customization: Always return the underlying bitmap directly for BitmapDrawable without checking for null or performing fallback rendering; return null when intrinsic width or height is non-positive; otherwise create a bitmap using intrinsic dimensions and draw the drawable onto a canvas.\nrefactoring: Cached intrinsic width and height in local variables and used early returns to simplify control flow and improve readability.\nmisc: Minor formatting and comments implied by structure; no 1x1 fallback bitmap behavior retained."
}