



package lu.fisch.canze.actors;


import lu.fisch.canze.activities.MainActivity;


public class Utils {
    
    public static int[] toIntArray(String hexString) throws IllegalArgumentException
    {
        
        
        
        return parseHexBinary(hexString);
    }

    public static int[] toIntArray(byte[] byteArray)
    {
        int[] toIntArray = new int[byteArray.length];
        for(int i=0; i<byteArray.length; i++)
            toIntArray[i]=(byteArray[i]<0?256+byteArray[i]:byteArray[i]);
        return toIntArray;
    }
    
    public static String get8Bit(int b)
    {
        return String.format("%8s", Integer.toBinaryString(b & 0xFF)).replace(' ', '0');
    }
    
    public static int getFirstNibble(int b)
    {
        return (b >> 4);
    }
    
    public static int getLastNibble(int b)
    {
        return (b & 0x0F);
    }
    
    public static void main(String[] args)
    {
        int valueO = (int) 0x1A;
        int value = valueO;
        System.out.println("Value = "+(value)+" / "+get8Bit(value));
        
        value = valueO;
        value = getFirstNibble(value);
        System.out.println("First = "+(value)+" / "+get8Bit(value));
        
        value = valueO;
        value = getLastNibble(value);
        System.out.println("Last  = "+(value)+" / "+get8Bit(value));
    }


    

    // TODO


    private static int hexToBin( char ch ) {
        if( '0'<=ch && ch<='9' )    return ch-'0';
        if( 'A'<=ch && ch<='F' )    return ch-'A'+10;
        if( 'a'<=ch && ch<='f' )    return ch-'a'+10;
        return -1;
    }

    private static final char[] hexCode = "0123456789ABCDEF".toCharArray();

    public String printHexBinary(byte[] data) {
        StringBuilder r = new StringBuilder(data.length*2);
        for ( byte b : data) {
            r.append(hexCode[(b >> 4) & 0xF]);
            r.append(hexCode[(b & 0xF)]);
        }
        return r.toString();
    }

    public static double kmOrMiles (double km) {if (MainActivity.milesMode) return km/1.609344; return km;}

}
