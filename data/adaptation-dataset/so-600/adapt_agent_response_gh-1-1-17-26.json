{
  "code": "public static void addResizeListener(final javafx.stage.Stage stage, final javafx.scene.layout.BorderPane menu) {\n\t// hardening: validate inputs\n\tif (stage == null || menu == null) {\n\t\treturn;\n\t}\n\tfinal javafx.scene.Scene scene = stage.getScene();\n\tif (scene == null) {\n\t\treturn;\n\t}\n\n\t// construct listener with new (Stage, BorderPane) signature\n\tfinal ResizeListener resizeListener = new ResizeListener(stage, menu);\n\n\t// register only required mouse events on the scene\n\tscene.addEventHandler(javafx.scene.input.MouseEvent.MOUSE_MOVED, resizeListener);\n\tscene.addEventHandler(javafx.scene.input.MouseEvent.MOUSE_PRESSED, resizeListener);\n\tscene.addEventHandler(javafx.scene.input.MouseEvent.MOUSE_DRAGGED, resizeListener);\n\n\t// delegate deep attachment to helper\n\tfinal javafx.scene.Parent root = scene.getRoot();\n\tif (root != null) {\n\t\tResizeAndMoveHelper.addListenerDeeply(root, resizeListener);\n\t}\n  }",
  "explanation": "code_hardening:\n- Added null checks for stage, stage.getScene(), menu, and the scene root before use.\n- Marked parameters and locals as final where applicable to reduce accidental reassignment.\n\nresolve_compilation_errors:\n- Updated the method signature to accept an additional BorderPane parameter.\n- Updated ResizeListener construction to use the new (Stage, BorderPane) constructor.\n- Replaced any local deep-listener logic with a call to ResizeAndMoveHelper.addListenerDeeply(Node, EventHandler).\n- Used fully qualified class names inside the function to avoid import ambiguity.\n\nexception_handling:\n- none\n\nlogic_customization:\n- Removed registration of MOUSE_EXITED and MOUSE_EXITED_TARGET handlers.\n- Ensured only MOUSE_MOVED, MOUSE_PRESSED, and MOUSE_DRAGGED are registered on the Scene.\n- Passed the BorderPane menu into ResizeListener so resize/move logic can account for the menu container.\n\nrefactoring:\n- Delegated recursive listener attachment to ResizeAndMoveHelper.addListenerDeeply instead of implementing it locally.\n- Simplified flow by caching Scene and root references.\n\nmisc:\n- none\n"}