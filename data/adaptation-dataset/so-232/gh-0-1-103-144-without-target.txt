

package org.lytsing.android.weibo.util;

import android.content.Context;
import android.text.format.DateUtils;

import org.lytsing.android.weibo.R;

import java.text.DateFormatSymbols;
import java.util.Calendar;


public class DateTimeUtils extends DateUtils {

    private static String sTimestampLabelYesterday;
    private static String sTimestampLabelToday;
    private static String sTimestampLabelJustNow;
    private static String sTimestampLabelMinutesAgo;
    private static String sTimestampLabelHoursAgo;
    private static String sTimestampLabelHourAgo;

    private static Context sCtx;

    private static DateTimeUtils sInstance = null;

    
    public static DateTimeUtils getInstance(Context context) {
        sCtx = context;
        if (sInstance == null) {
            sInstance = new DateTimeUtils();
            sTimestampLabelYesterday = context.getResources().getString(
                    R.string.WidgetProvider_timestamp_yesterday);
            sTimestampLabelToday = context.getResources().getString(
                    R.string.WidgetProvider_timestamp_today);
            sTimestampLabelJustNow = context.getResources().getString(
                    R.string.WidgetProvider_timestamp_just_now);
            sTimestampLabelMinutesAgo = context.getResources().getString(
                    R.string.WidgetProvider_timestamp_minutes_ago);
            sTimestampLabelHoursAgo = context.getResources().getString(
                    R.string.WidgetProvider_timestamp_hours_ago);
            sTimestampLabelHourAgo = context.getResources().getString(
                    R.string.WidgetProvider_timestamp_hour_ago);
        }
        return sInstance;
    }

    
    public static boolean isYesterday(long date) {

        final Calendar currentDate = Calendar.getInstance();
        currentDate.setTimeInMillis(date);

        final Calendar yesterdayDate = Calendar.getInstance();
        yesterdayDate.add(Calendar.DATE, -1);

        return yesterdayDate.get(Calendar.YEAR) == currentDate
            .get(Calendar.YEAR)
            && yesterdayDate.get(Calendar.DAY_OF_YEAR) == currentDate
            .get(Calendar.DAY_OF_YEAR);
    }

    public static String[] sWeekdays = new DateFormatSymbols().getWeekdays(); 
    
    
    public static final long millisInADay = 1000 * 60 * 60 * 24;

        // TODO

}

