package org.batfish.common.util;

import java.io.File;
import java.io.FileInputStream;
import java.io.FileOutputStream;
import java.util.zip.ZipEntry;
import java.util.zip.ZipOutputStream;





public class ZipUtility {
      // TODO


   
   private static void addFolderToZip(String path, String srcFolder,
         ZipOutputStream zip) throws Exception {
      File folder = new File(srcFolder);

      

      
      
      
      addFileToZip(path, srcFolder, zip, true);
      
      
      for (String fileName : folder.list()) {
         if (path.equals("")) {
            addFileToZip(folder.getName(), srcFolder + "/" + fileName, zip,
                  false);
         }
         else {
            addFileToZip(path + "/" + folder.getName(),
                  srcFolder + "/" + fileName, zip, false);
         }
      }
      
   }

   
   @SuppressWarnings("finally")
   public static boolean zipFiles(String srcFolder, String destZipFile) {
      boolean result = false;
      try {
         
         
         zipFolder(srcFolder, destZipFile);
         result = true;
         
      }
      catch (Exception e) {
         System.out.println("Some Errors happened during the zip process");
      }
      finally {
         return result;
      }
   }

   
   private static void zipFolder(String srcFolder, String destZipFile)
         throws Exception {
      ZipOutputStream zip = null;
      FileOutputStream fileWriter = null;
      
      fileWriter = new FileOutputStream(destZipFile);
      zip = new ZipOutputStream(fileWriter);
      
      addFolderToZip("", srcFolder, zip);
      
      zip.flush();
      zip.close();
   }
}
