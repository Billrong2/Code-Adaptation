{
  "code": "/**\n * Converts a standard POSIX Shell globbing pattern into a regular expression\n * pattern. The result can be used with the standard {@link java.util.regex} API to\n * recognize strings which match the glob pattern.\n * <p/>\n * See also, the POSIX Shell language:\n * http://pubs.opengroup.org/onlinepubs/009695399/utilities/xcu_chap02.html#tag_02_13_01\n *\n * Attribution: Based on a Stack Overflow answer for converting glob patterns to regex.\n * \n * @param pattern A glob pattern.\n * @return A regex pattern to recognize the given glob pattern.\n */\npublic static final String globToRegex(String pattern) {\n    StringBuilder sb = new StringBuilder(pattern.length());\n    int inGroup = 0;\n    int inClass = 0;\n    int firstIndexInClass = -1;\n    char[] arr = pattern.toCharArray();\n    for (int i = 0; i < arr.length; i++) {\n        char ch = arr[i];\n        switch (ch) {\n            case '\\\\':\n                if (++i >= arr.length) {\n                    sb.append('\\\\');\n                } else {\n                    char next = arr[i];\n                    switch (next) {\n                        case ',':\n                            // escape not needed\n                            break;\n                        case 'Q':\n                        case 'E':\n                            // extra escape needed\n                            sb.append('\\\\');\n                        default:\n                            sb.append('\\\\');\n                    }\n                    sb.append(next);\n                }\n                break;\n            case '*':\n                if (inClass == 0)\n                    sb.append(\".*\");\n                else\n                    sb.append('*');\n                break;\n            case '?':\n                if (inClass == 0)\n                    sb.append('.');\n                else\n                    sb.append('?');\n                break;\n            case '[':\n                inClass++;\n                firstIndexInClass = i + 1;\n                sb.append('[');\n                break;\n            case ']':\n                inClass--;\n                sb.append(']');\n                break;\n            case '.':\n            case '(':\n            case ')':\n            case '+':\n            case '|':\n            case '^':\n            case '$':\n            case '@':\n            case '%':\n                if (inClass == 0 || (firstIndexInClass == i && ch == '^'))\n                    sb.append('\\\\');\n                sb.append(ch);\n                break;\n            case '!':\n                if (firstIndexInClass == i)\n                    sb.append('^');\n                else\n                    sb.append('!');\n                break;\n            case '{':\n                inGroup++;\n                sb.append('(');\n                break;\n            case '}':\n                inGroup--;\n                sb.append(')');\n                break;\n            case ',':\n                if (inGroup > 0)\n                    sb.append('|');\n                else\n                    sb.append(',');\n                break;\n            default:\n                sb.append(ch);\n        }\n    }\n    return sb.toString();\n}",
  "explanation": "code_hardening: none\nresolve_compilation_errors: none\nexception_handling: none\nlogic_customization: none\nrefactoring: Renamed the method from convertGlobToRegex to globToRegex while preserving the signature style (public static final) and the entire implementation unchanged.\nmisc: Updated the Javadoc by adding a single attribution line referencing Stack Overflow, while retaining all existing documentation content and formatting otherwise."
}