

package de.codecrafter47.bungeetablistplus.demo;

import com.google.common.collect.BiMap;
import com.google.common.collect.ImmutableBiMap;
import net.md_5.bungee.api.ChatColor;

import java.awt.*;

public class ColorUtil {
    private static BiMap<Color, ChatColor> colors = ImmutableBiMap.<Color, ChatColor>builder()
            .put(new Color(0x000000), ChatColor.BLACK)
            .put(new Color(0x0000aa), ChatColor.DARK_BLUE)
            .put(new Color(0x00aa00), ChatColor.DARK_GREEN)
            .put(new Color(0x00aaaa), ChatColor.DARK_AQUA)
            .put(new Color(0xaa0000), ChatColor.DARK_RED)
            .put(new Color(0xaa00aa), ChatColor.DARK_PURPLE)
            .put(new Color(0xffaa00), ChatColor.GOLD)
            .put(new Color(0xaaaaaa), ChatColor.GRAY)
            .put(new Color(0x555555), ChatColor.DARK_GRAY)
            .put(new Color(0x5555ff), ChatColor.BLUE)
            .put(new Color(0x55ff55), ChatColor.GREEN)
            .put(new Color(0x55ffff), ChatColor.AQUA)
            .put(new Color(0xff5555), ChatColor.RED)
            .put(new Color(0xff55ff), ChatColor.LIGHT_PURPLE)
            .put(new Color(0xffff55), ChatColor.YELLOW)
            .put(new Color(0xffffff), ChatColor.WHITE)
            .build();

    public static Color getAWTColor(ChatColor chatColor) {
        return colors.inverse().get(chatColor);
    }

    public static ChatColor getSimilarChatColor(Color color) {
        if (color.getAlpha() < 128) {
            return null;
        }
        Color bestColor = null;
        double bestDist = Double.POSITIVE_INFINITY;
        for (Color c : colors.keySet()) {
            double dist;
            if ((dist = ColourDistance(c, color)) < bestDist) {
                bestColor = c;
                bestDist = dist;
            }
        }
        return colors.get(bestColor);
    }

        // TODO

}
