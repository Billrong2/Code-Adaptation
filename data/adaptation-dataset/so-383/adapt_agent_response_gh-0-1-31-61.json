{
  "code": "@Override\nprotected void showDialog(Bundle state) {\n    final MaterialDialog.Builder builder = new MaterialDialog.Builder(context);\n\n    builder.title(getDialogTitle());\n    builder.icon(getDialogIcon());\n    builder.negativeText(getNegativeButtonText());\n\n    final CharSequence[] entries = getEntries();\n    final CharSequence[] entryValues = getEntryValues();\n    final int preselect = getValue() != null ? findIndexOfValue(getValue()) : -1;\n\n    if (entries != null) {\n        builder.items(entries);\n        builder.itemsCallbackSingleChoice(preselect, new MaterialDialog.ListCallbackSingleChoice() {\n            @Override\n            public boolean onSelection(MaterialDialog dialog, View itemView, int which, CharSequence text) {\n                if (which >= 0 && entryValues != null && which < entryValues.length) {\n                    String value = entryValues[which].toString();\n                    if (callChangeListener(value) && isPersistent()) {\n                        setValue(value);\n                    }\n                }\n                return true;\n            }\n        });\n    }\n\n    final View contentView = onCreateDialogView();\n    if (contentView != null) {\n        onBindDialogView(contentView);\n        builder.customView(contentView, false);\n    } else {\n        builder.content(getDialogMessage());\n    }\n\n    builder.show();\n}\n",
  "explanation": "code_hardening: Added bounds checks for the selected index against entryValues length and guarded persistence with isPersistent(); retained null checks for entries and entryValues.\nresolve_compilation_errors: Replaced getTitle() with getDialogTitle(); switched to MaterialDialog.ListCallbackSingleChoice via itemsCallbackSingleChoice with the correct signature.\nexception_handling: none\nlogic_customization: Converted to a single-choice dialog with the current value preselected using findIndexOfValue(getValue()); removed explicit positive button text; conditionally persisted via isPersistent(); passed false to customView to avoid scroll wrapping.\nrefactoring: Replaced the class-level builder with a local MaterialDialog.Builder instance; standardized title usage to getDialogTitle().\nmisc: none"
}