{
  "code": "/**\n * Escapes HTML characters using numeric character references.\n * <p>\n * Adapted from a Stack Overflow answer.\n * </p>\n *\n * @param s the character sequence to escape\n * @return the escaped HTML string\n */\npublic static String escapeHtml(CharSequence s) {\n    StringBuilder out = new StringBuilder(Math.max(16, s.length()));\n    for (int i = 0; i < s.length(); i++) {\n        char c = s.charAt(i);\n        if (c > 127 || c == '\"' || c == '<' || c == '>' || c == '&') {\n            out.append(\"&#\");\n            out.append((int) c);\n            out.append(';');\n        } else {\n            out.append(c);\n        }\n    }\n    return out.toString();\n}",
  "explanation": "code_hardening: Kept behavior unchanged as planned; no null check was added so the method still throws a NullPointerException if the input is null, matching the original logic.\nresolve_compilation_errors: Updated the parameter type to CharSequence and ensured all internal usage relies only on CharSequence-compatible methods (length() and charAt(int)). No additional imports were required.\nexception_handling: none\nlogic_customization: Broadened the input parameter from String to CharSequence while preserving the same escaping algorithm and returning a String.\nrefactoring: Renamed the method from escapeHTML to escapeHtml and adjusted the signature accordingly; local variables and control flow remain functionally identical.\nmisc: Added a Javadoc comment above the method with attribution to the original Stack Overflow source. No new custom API calls were introduced."
}