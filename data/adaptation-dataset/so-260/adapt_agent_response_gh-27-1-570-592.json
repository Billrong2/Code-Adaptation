{
  "code": "public static synchronized void setSSLCertValidation(boolean enabled) {\n\tfinal String ORIGINAL_FACTORY_KEY = \"itdelatrisu.opsu.Utils.originalSSLSocketFactory\";\n\ttry {\n\t\tif (enabled) {\n\t\t\t// Restore default SSL certificate validation if previously overridden\n\t\t\tObject original = System.getProperties().get(ORIGINAL_FACTORY_KEY);\n\t\t\tif (original instanceof javax.net.ssl.SSLSocketFactory) {\n\t\t\t\tjavax.net.ssl.HttpsURLConnection.setDefaultSSLSocketFactory((javax.net.ssl.SSLSocketFactory) original);\n\t\t\t\tSystem.getProperties().remove(ORIGINAL_FACTORY_KEY);\n\t\t\t}\n\t\t\treturn;\n\t\t}\n\n\t\t// Disable certificate chain validation (but keep default hostname verification)\n\t\tif (!System.getProperties().containsKey(ORIGINAL_FACTORY_KEY)) {\n\t\t\tSystem.getProperties().put(ORIGINAL_FACTORY_KEY, javax.net.ssl.HttpsURLConnection.getDefaultSSLSocketFactory());\n\t\t}\n\n\t\tjavax.net.ssl.TrustManager trustAllManager = new javax.net.ssl.X509TrustManager() {\n\t\t\t@Override\n\t\t\tpublic java.security.cert.X509Certificate[] getAcceptedIssuers() {\n\t\t\t\treturn new java.security.cert.X509Certificate[0];\n\t\t\t}\n\n\t\t\t@Override\n\t\t\tpublic void checkClientTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n\t\t\t\t// trust all clients\n\t\t\t}\n\n\t\t\t@Override\n\t\t\tpublic void checkServerTrusted(java.security.cert.X509Certificate[] certs, String authType) {\n\t\t\t\t// trust all servers\n\t\t\t}\n\t\t};\n\n\t\tjavax.net.ssl.SSLContext context = javax.net.ssl.SSLContext.getInstance(\"TLS\");\n\t\tcontext.init(null, new javax.net.ssl.TrustManager[] { trustAllManager }, null);\n\t\tjavax.net.ssl.HttpsURLConnection.setDefaultSSLSocketFactory(context.getSocketFactory());\n\t} catch (java.security.GeneralSecurityException e) {\n\t\torg.newdawn.slick.util.Log.error(\"Failed to toggle SSL certificate validation.\", e);\n\t\tthrow new RuntimeException(\"Could not change SSL certificate validation state.\", e);\n\t}\n}",
  "explanation": "code_hardening: The method is synchronized to ensure thread-safe, idempotent behavior when toggled multiple times. Global SSL settings are only modified when necessary, and the original default SSLSocketFactory is preserved and restored safely using a guarded key.\nresolve_compilation_errors: The method signature was updated to include a boolean parameter and renamed to a toggle-style name. Fully qualified class names (e.g., javax.net.ssl.SSLContext, javax.net.ssl.HttpsURLConnection) are used inside the function to avoid import conflicts.\nexception_handling: The empty catch block was replaced with a catch for GeneralSecurityException, logging via org.newdawn.slick.util.Log.error and rethrowing as a RuntimeException to avoid silent failures.\nlogic_customization: Conditional logic enables or disables certificate validation. When disabled, an all-trusting X509TrustManager is installed; when enabled, the original default SSLSocketFactory is restored. The custom HostnameVerifier was removed so default hostname verification remains active. SSLContext.init is called with null randomness.\nrefactoring: The method was renamed from an unconditional disable method to setSSLCertValidation(boolean). The all-trusting TrustManager is clearly named and localized, and the protocol string was updated from \"SSL\" to \"TLS\" for clarity.\nmisc: Comments were updated to reflect toggle behavior, minimal logging consistent with project style was added, and obsolete hostname-verification code was omitted. New custom API calls used: org.newdawn.slick.util.Log.error(String, Throwable)."
}