{
  "code": "public static Boolean getBoolean(final ClassLoader classLoader, final String key, final boolean def)\n      throws IllegalArgumentException {\n    // Input validation\n    if (classLoader == null) {\n      Log.e(TAG, \"ClassLoader is null when accessing system property. key=\" + key + \", def=\" + def);\n      return def;\n    }\n    if (key == null || key.length() == 0) {\n      Log.e(TAG, \"Key is null or empty when accessing system property. def=\" + def);\n      return def;\n    }\n\n    try {\n      final Class<?> systemPropertiesClass = classLoader.loadClass(\"android.os.SystemProperties\");\n      final Class<?>[] paramTypes = new Class<?>[] { String.class, boolean.class };\n      final Method getBooleanMethod = systemPropertiesClass.getMethod(\"getBoolean\", paramTypes);\n      final Object[] params = new Object[] { key, def };\n\n      final Object result = getBooleanMethod.invoke(null, params);\n      if (result instanceof Boolean) {\n        return (Boolean) result;\n      }\n      return def;\n    } catch (IllegalArgumentException iAE) {\n      // Preserve documented behavior (e.g., key length > 32)\n      throw iAE;\n    } catch (Exception e) {\n      Log.e(TAG, \"Failed to read boolean system property. key=\" + key + \", def=\" + def, e);\n      return def;\n    }\n  }",
  "explanation": "code_hardening: Added null checks for ClassLoader and key, guarded against empty keys, used final for parameters and locals, and ensured the provided default is always returned on unexpected failures with error logging.\nresolve_compilation_errors: Updated the signature to getBoolean(ClassLoader, String, boolean) returning Boolean, removed Context usage, reflected android.os.SystemProperties.getBoolean(String, boolean), and corrected parameter types and invocation for a static method.\nexception_handling: Explicitly rethrew IllegalArgumentException unchanged, broadly caught reflection-related exceptions, logged details (key and default), and returned the default value on non-IllegalArgumentException failures.\nlogic_customization: Switched reflection from get(String) to getBoolean(String, boolean), passed the default value into the call, handled Boolean results safely, and aligned behavior to always fall back to the default on failure.\nrefactoring: Renamed semantics to boolean-focused names (method and locals), removed unnecessary object creation, and simplified control flow while keeping behavior contained within the function.\nmisc: Added concise Log.e messages using the existing TAG for diagnostics and formatted code for clarity. New custom API calls used: android.os.SystemProperties.getBoolean(String, boolean) via reflection; android.util.Log.e(String, String, Throwable)."}