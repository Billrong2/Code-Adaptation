{
  "code": "/**\n     * Constructs a new <code>UnicodeBomInputStream</code> that wraps the\n     * specified <code>InputStream</code>.\n     *\n     * @param inputStream an <code>InputStream</code>.\n     *\n     * @throws NullPointerException\n     *             when <code>inputStream</code> is <code>null</code>.\n     * @throws IOException\n     *             on reading from the specified <code>InputStream</code> when\n     *             trying to detect the Unicode BOM.\n     */\n    public UnicodeBomInputStream(final InputStream inputStream)\n            throws NullPointerException, IOException {\n        if (inputStream == null) {\n            throw new NullPointerException(\"invalid input stream: null is not allowed\");\n        }\n\n        in = new PushbackInputStream(inputStream, 4);\n\n        final byte[] bom = new byte[4];\n        final int read = in.read(bom);\n\n        switch (read) {\n        case 4:\n            if ((bom[0] == (byte) 0xFF) && (bom[1] == (byte) 0xFE)\n                    && (bom[2] == (byte) 0x00) && (bom[3] == (byte) 0x00)) {\n                this.bom = BOM.UTF_32_LE;\n                break;\n            } else if ((bom[0] == (byte) 0x00) && (bom[1] == (byte) 0x00)\n                    && (bom[2] == (byte) 0xFE) && (bom[3] == (byte) 0xFF)) {\n                this.bom = BOM.UTF_32_BE;\n                break;\n            }\n        case 3:\n            if ((bom[0] == (byte) 0xEF) && (bom[1] == (byte) 0xBB)\n                    && (bom[2] == (byte) 0xBF)) {\n                this.bom = BOM.UTF_8;\n                break;\n            }\n        case 2:\n            if ((bom[0] == (byte) 0xFF) && (bom[1] == (byte) 0xFE)) {\n                this.bom = BOM.UTF_16_LE;\n                break;\n            } else if ((bom[0] == (byte) 0xFE) && (bom[1] == (byte) 0xFF)) {\n                this.bom = BOM.UTF_16_BE;\n                break;\n            }\n        default:\n            this.bom = BOM.NONE;\n            break;\n        }\n\n        if (read > 0) {\n            in.unread(bom, 0, read);\n        }\n    }",
  "explanation": "code_hardening: none\nresolve_compilation_errors: Renamed the constructor to UnicodeBomInputStream to match the enclosing class name and ensured assignments to the existing final fields in and bom.\nexception_handling: none\nlogic_customization: none\nrefactoring: Updated constructor name casing, added braces to single-line if statements, consolidated else-if branches, normalized spacing/indentation, and reformatted Javadoc without changing content.\nmisc: Minor formatting and comment wrapping adjustments only; no new APIs used."
}