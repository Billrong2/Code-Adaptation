{
  "code": "public void layoutContainer(Container parent) {\n\tif (parent == null) {\n\t\treturn;\n\t}\n\tComponent[] comps = parent.getComponents();\n\tif (comps == null) {\n\t\treturn;\n\t}\n\n\tfinal int PAD_SMALL = 4;\n\tfinal int PAD_RIGHT = 12;\n\tfinal int SPACING = 4;\n\n\tInsets insets = parent.getInsets();\n\tint containerWidth = Math.max(0, parent.getWidth() - insets.left - insets.right);\n\tint containerHeight = Math.max(0, parent.getHeight() - insets.top - insets.bottom);\n\n\t// find visible scrollbar first\n\tJScrollBar scrollBar = null;\n\tfor (Component c : comps) {\n\t\tif (c instanceof JScrollBar && c.isVisible()) {\n\t\t\tscrollBar = (JScrollBar) c;\n\t\t\tbreak;\n\t\t}\n\t}\n\n\tint scrollBarWidth = 0;\n\tint scrollOffset = 0;\n\tif (scrollBar != null) {\n\t\tDimension sbPref = scrollBar.getPreferredSize();\n\t\tif (sbPref != null) {\n\t\t\tscrollBarWidth = Math.max(0, sbPref.width);\n\t\t}\n\t\tscrollOffset = Math.max(0, scrollBar.getValue());\n\t\t// dock scrollbar to the right\n\t\tscrollBar.setBounds(\n\t\t\t\tinsets.left + Math.max(0, containerWidth - scrollBarWidth),\n\t\t\t\tinsets.top,\n\t\t\t\tscrollBarWidth,\n\t\t\t\tcontainerHeight);\n\t}\n\n\tint contentWidth = Math.max(0, containerWidth - scrollBarWidth);\n\n\t// initial y position shifted by scroll offset\n\tint y = insets.top - scrollOffset + PAD_SMALL;\n\tint index = 0; // index among non-scrollbar components\n\n\tfor (Component comp : comps) {\n\t\tif (comp == null || !comp.isVisible() || comp instanceof JScrollBar) {\n\t\t\tcontinue;\n\t\t}\n\t\tDimension pref = comp.getPreferredSize();\n\t\tif (pref == null) {\n\t\t\tcontinue;\n\t\t}\n\n\t\tint w = Math.max(0, pref.width);\n\t\tint h = Math.max(0, pref.height);\n\n\t\t// odd/even pairing logic (1-based)\n\t\tboolean isOdd = (index % 2) == 0;\n\t\tif (isOdd) {\n\t\t\t// right-aligned item, advances y\n\t\t\tint x = insets.left + Math.max(0, contentWidth - w - PAD_RIGHT);\n\t\t\tcomp.setBounds(x, y, Math.min(w, contentWidth), h);\n\t\t\ty += h + SPACING;\n\t\t} else {\n\t\t\t// paired item on same row, fixed offset using C2WIDTH\n\t\t\tint x = insets.left + Math.max(0, contentWidth - C2WIDTH);\n\t\t\tcomp.setBounds(x, y - h - SPACING, Math.min(w, contentWidth), h);\n\t\t}\n\t\tindex++;\n\t}\n}",
  "explanation": "code_hardening: Added null checks for parent, components array, components, and preferred sizes; guarded against missing or invisible JScrollBar; clamped widths/heights and offsets to non-negative values; used final constants for paddings and spacing.\nresolve_compilation_errors: Switched to the correct LayoutManager method signature layoutContainer(Container); relied only on types already imported in the file; declared and initialized all locals (insets, widths, y-position, indices) within the function.\nexception_handling: none.\nlogic_customization: Replaced preferred size computation with actual layout using setBounds; respected container insets and current width/height; identified and docked the visible JScrollBar on the right and reduced content width; used scrollbar value as vertical scroll offset by shifting initial y; laid out all other visible, non-scrollbar components with odd/even pairing logic, right alignment, fixed paddings, and spacing; removed any visibleAmount-based height capping so scrolling is handled solely via y-offset.\nrefactoring: Removed unused preferred-size aggregation logic; introduced meaningful local variable names; extracted magic numbers into named constants; structured code to clearly separate scrollbar handling and content layout within the method.\nmisc: Updated inline comments to describe layout behavior and kept formatting consistent with the surrounding code style; no new custom API calls beyond existing Swing/AWT methods (none)."
}