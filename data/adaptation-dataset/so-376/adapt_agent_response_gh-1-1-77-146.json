{
  "code": "@Override\npublic void handle(final MouseEvent event) {\n\tif (this.stage == null) {\n\t\treturn;\n\t}\n\tfinal javafx.scene.Scene scene = this.stage.getScene();\n\tif (scene == null) {\n\t\treturn;\n\t}\n\n\tfinal double borderSize = this.border;\n\tfinal double minWidth = Math.max(this.stage.getMinWidth(), borderSize * 2);\n\tfinal double minHeight = Math.max(this.stage.getMinHeight(), borderSize * 2);\n\n\tfinal EventType<? extends MouseEvent> type = event.getEventType();\n\n\tif (type == MouseEvent.MOUSE_MOVED) {\n\t\tfinal double x = event.getSceneX();\n\t\tfinal double y = event.getSceneY();\n\t\tfinal double width = this.stage.getWidth();\n\t\tfinal double height = this.stage.getHeight();\n\n\t\tCursor cursor = Cursor.DEFAULT;\n\n\t\tfinal boolean left = x >= 0 && x <= borderSize;\n\t\tfinal boolean right = x <= width && x >= width - borderSize;\n\t\tfinal boolean top = y >= 0 && y <= borderSize;\n\t\tfinal boolean bottom = y <= height && y >= height - borderSize;\n\n\t\tif (left && top) {\n\t\t\tcursor = Cursor.NW_RESIZE;\n\t\t} else if (right && top) {\n\t\t\tcursor = Cursor.NE_RESIZE;\n\t\t} else if (left && bottom) {\n\t\t\tcursor = Cursor.SW_RESIZE;\n\t\t} else if (right && bottom) {\n\t\t\tcursor = Cursor.SE_RESIZE;\n\t\t} else if (left) {\n\t\t\tcursor = Cursor.W_RESIZE;\n\t\t} else if (right) {\n\t\t\tcursor = Cursor.E_RESIZE;\n\t\t} else if (top) {\n\t\t\tcursor = Cursor.N_RESIZE;\n\t\t} else if (bottom) {\n\t\t\tcursor = Cursor.S_RESIZE;\n\t\t}\n\n\t\tthis.cursorEvent = cursor;\n\t\tscene.setCursor(cursor);\n\t\tthis.resizing = cursor != Cursor.DEFAULT;\n\t\treturn;\n\t}\n\n\tif (type == MouseEvent.MOUSE_PRESSED) {\n\t\tthis.startX = this.stage.getWidth() - event.getSceneX();\n\t\tthis.startY = this.stage.getHeight() - event.getSceneY();\n\t\treturn;\n\t}\n\n\tif (type == MouseEvent.MOUSE_DRAGGED && this.resizing && this.cursorEvent != Cursor.DEFAULT) {\n\t\tfinal double mouseScreenX = event.getScreenX();\n\t\tfinal double mouseScreenY = event.getScreenY();\n\t\tfinal double stageX = this.stage.getX();\n\t\tfinal double stageY = this.stage.getY();\n\n\t\tif (this.cursorEvent == Cursor.W_RESIZE || this.cursorEvent == Cursor.NW_RESIZE || this.cursorEvent == Cursor.SW_RESIZE) {\n\t\t\tdouble newWidth = (stageX + this.stage.getWidth()) - mouseScreenX;\n\t\t\tif (newWidth >= minWidth) {\n\t\t\t\tthis.stage.setX(mouseScreenX);\n\t\t\t\tthis.stage.setWidth(newWidth);\n\t\t\t}\n\t\t}\n\n\t\tif (this.cursorEvent == Cursor.E_RESIZE || this.cursorEvent == Cursor.NE_RESIZE || this.cursorEvent == Cursor.SE_RESIZE) {\n\t\t\tdouble newWidth = event.getSceneX() + this.startX;\n\t\t\tif (newWidth >= minWidth) {\n\t\t\t\tthis.stage.setWidth(newWidth);\n\t\t\t}\n\t\t}\n\n\t\tif (this.cursorEvent == Cursor.N_RESIZE || this.cursorEvent == Cursor.NW_RESIZE || this.cursorEvent == Cursor.NE_RESIZE) {\n\t\t\tdouble newHeight = (stageY + this.stage.getHeight()) - mouseScreenY;\n\t\t\tif (newHeight >= minHeight) {\n\t\t\t\tthis.stage.setY(mouseScreenY);\n\t\t\t\tthis.stage.setHeight(newHeight);\n\t\t\t}\n\t\t}\n\n\t\tif (this.cursorEvent == Cursor.S_RESIZE || this.cursorEvent == Cursor.SW_RESIZE || this.cursorEvent == Cursor.SE_RESIZE) {\n\t\t\tdouble newHeight = event.getSceneY() + this.startY;\n\t\t\tif (newHeight >= minHeight) {\n\t\t\t\tthis.stage.setHeight(newHeight);\n\t\t\t}\n\t\t}\n\t}\n}",
  "explanation": "code_hardening: Added null checks for stage and scene, enforced minimum width/height using Stage.getMinWidth()/getMinHeight() with a safe fallback of 2Ã—border, guarded resize execution with the resizing flag, and centralized the border threshold usage.\nresolve_compilation_errors: Implemented the missing handle(MouseEvent) method directly in ResizeListener, relied only on already-declared fields (stage, border, cursorEvent, startX/startY, resizing), removed any dependence on deep listener attachment logic, and used fully qualified javafx.scene.Scene where needed.\nexception_handling: none\nlogic_customization: Limited handling to MOUSE_MOVED, MOUSE_PRESSED, and MOUSE_DRAGGED; implemented edge/corner detection on mouse move to select the correct resize cursor; recorded width/height offsets on mouse press; resized the stage on drag with correct X/Y adjustments for top/left edges using screen coordinates and width/height adjustments for right/bottom edges using scene coordinates; updated the scene cursor immediately and maintained the resizing flag.\nrefactoring: Consolidated all resize logic into the handle method, used clearer local variable names for coordinates and bounds, and removed unused event cases by early returns.\nmisc: Relied solely on scene-level cursor updates and event handling without child-node listeners; formatting and cursor usage follow JavaFX conventions. No new custom API calls were introduced."
}