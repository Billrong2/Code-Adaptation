{
  "code": "public static Matcher<View> nthChildOf(final Matcher<View> parentMatcher, final int childPosition) {\n    // Adapted from a Stack Overflow answer: matcher for the nth child of a parent view\n    return new TypeSafeMatcher<View>() {\n        @Override\n        public void describeTo(final Description description) {\n            description.appendText(\"with \" + childPosition + \" child view of type parentMatcher\");\n        }\n\n        @Override\n        public boolean matchesSafely(final View view) {\n            if (!(view.getParent() instanceof ViewGroup)) {\n                return parentMatcher.matches(view.getParent());\n            }\n\n            final ViewGroup parentGroup = (ViewGroup) view.getParent();\n            return parentMatcher.matches(view.getParent())\n                    && parentGroup.getChildAt(childPosition).equals(view);\n        }\n    };\n}",
  "explanation": "code_hardening: Parameters were already final; local variables were marked final for clarity. No bounds check was added for childPosition to avoid altering existing matcher behavior; the assumption is documented implicitly via the comment.\nresolve_compilation_errors: The function relies only on types already imported in the file (View, ViewGroup, Matcher, TypeSafeMatcher, Description); no new APIs were introduced and no unused imports were added within this function.\nexception_handling: none.\nlogic_customization: none; matcher logic and the description string remain identical to the original behavior.\nrefactoring: Improved spacing and formatting, renamed the local variable from 'group' to 'parentGroup' for readability, and added a concise attribution comment.\nmisc: Minor stylistic cleanup and an inline comment attributing the original Stack Overflow source; no functional changes were made."
}